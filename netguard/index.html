<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NetGuard - Cybersecurity Investigation Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <header>
            <h1>üõ°Ô∏è NetGuard</h1>
            <p class="subtitle">Cybersecurity Investigation Training</p>
        </header>

        <!-- Level Selection Screen -->
        <div class="level-selection" id="levelSelection">
            <h2>Select a Mission</h2>
            <div class="level-list" id="levelList">
                <!-- Level cards will be generated by JavaScript -->
            </div>
            <button class="reset-button" id="resetButton" style="margin-top: 20px;">üîÑ Reset Progress</button>
        </div>

        <!-- Game Screen -->
        <div class="game-screen" id="gameScreen" style="display: none;">
            <div class="game-header">
                <div class="level-info" id="levelInfo"></div>
                <div class="progress-info" id="progressInfo"></div>
                <button class="back-button" id="backButton">‚Üê Back to Missions</button>
            </div>

            <div class="main-content">
                <!-- Network Map -->
                <div class="network-panel">
                    <h2>Network Map</h2>
                    <div class="network-map" id="networkMap">
                        <!-- Nodes will be generated by JavaScript -->
                    </div>
                    <div class="legend">
                        <div><span class="status-dot healthy">üü¢</span> Healthy</div>
                        <div><span class="status-dot suspicious">üü°</span> Suspicious</div>
                        <div><span class="status-dot compromised">üî¥</span> Compromised</div>
                        <div><span class="status-dot unexamined">üîµ</span> Unexamined</div>
                    </div>

                    <!-- NPC Panel -->
                    <div class="npc-panel">
                        <h3>üë• Personnel</h3>
                        <div class="npc-info" id="npcInfo">
                            Select a node to see available personnel
                        </div>
                        <button class="npc-button" id="talkButton" disabled>Talk to Personnel</button>
                    </div>
                </div>

                <!-- Terminal/Investigation Panel -->
                <div class="terminal-panel">
                    <h2>SSH Terminal</h2>
                    <div class="terminal-output" id="terminalOutput" role="log" aria-live="polite" aria-label="System terminal output">
                        <!-- Terminal content will be generated by JavaScript -->
                    </div>
                    <div class="command-interface">
                        <div class="available-commands" id="availableCommands">
                            <!-- Command buttons will be generated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- NPC Dialog Modal -->
        <div class="dialog-modal" id="dialogModal" role="dialog" aria-modal="true" aria-labelledby="dialogNPC">
            <div class="dialog-content">
                <div class="dialog-header">
                    <span class="dialog-npc" id="dialogNPC"></span>
                    <button class="dialog-close" id="dialogClose" aria-label="Close dialog">√ó</button>
                </div>
                <div class="dialog-body" id="dialogBody"></div>
                <div class="dialog-actions">
                    <button class="dialog-button" id="dialogContinue">Continue</button>
                </div>
            </div>
        </div>

        <!-- Victory Modal -->
        <div class="victory-modal" id="victoryModal" role="dialog" aria-modal="true" aria-labelledby="victoryHeading">
            <div class="victory-content">
                <h2>üéâ Mission Complete!</h2>
                <div id="victoryMessage"></div>
                <button class="victory-button" id="nextLevel">Next Level</button>
                <button class="victory-button secondary" id="backToLevels">Back to Missions</button>
            </div>
        </div>

        <!-- Interactive Tool Modal -->
        <div class="tool-modal" id="toolModal" role="dialog" aria-modal="true" aria-labelledby="toolTitle">
            <div class="tool-content">
                <div class="tool-header">
                    <span class="tool-title" id="toolTitle"></span>
                    <button class="tool-close" id="toolClose" aria-label="Close tool">√ó</button>
                </div>
                <div class="tool-body">
                    <div class="tool-input-section">
                        <label id="toolInputLabel">Input:</label>
                        <textarea id="toolInput" rows="4"></textarea>
                        <button class="tool-button" id="toolExecute">Execute</button>
                    </div>
                    <div class="tool-output" id="toolOutput"></div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="game.js"></script>
</body>
</html>
