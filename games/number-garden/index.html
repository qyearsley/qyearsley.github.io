<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Number Garden</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/style.css" />
    <link rel="stylesheet" href="../common/styles/common.css" />
    <link rel="stylesheet" href="styles/main.css" />
    <link rel="stylesheet" href="styles/garden.css" />
    <link rel="stylesheet" href="styles/animations.css" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <style>
      /* Override breadcrumb styling for colorful theme */
      #title-screen .breadcrumbs {
        margin-bottom: 1rem;
        justify-content: center;
      }
      #title-screen .breadcrumbs a {
        color: #764ba2;
        font-weight: 600;
      }
      #title-screen .breadcrumbs a:hover {
        color: #667eea;
      }
      #title-screen .breadcrumbs .separator {
        color: #b8a9d6;
      }
      #title-screen .breadcrumbs .current {
        color: #5a3d7a;
        font-weight: 600;
      }
    </style>
  </head>
  <body>
    <div id="game-container">
      <!-- Title Screen -->
      <div id="title-screen" class="screen active">
        <nav class="breadcrumbs">
          <a href="/">Home</a>
          <span class="separator">/</span>
          <a href="/games/">Games</a>
          <span class="separator">/</span>
          <span class="current">Number Garden</span>
        </nav>
        <h1 class="game-title">ğŸŒ¸ Number Garden ğŸŒ¸</h1>
        <p class="subtitle">Help the magic garden grow!</p>
        <div class="title-buttons">
          <button id="start-button" class="big-button">Start</button>
          <button id="continue-button" class="big-button hidden">Continue</button>
          <button id="start-fresh-button" class="secondary-button hidden">Start Fresh</button>
        </div>
      </div>

      <!-- Project Selection Screen -->
      <div id="project-selection" class="screen">
        <div class="header">
          <button id="project-back-button" class="nav-button" aria-label="Return to garden hub">
            â† Back
          </button>
          <h2>Choose Your Project</h2>
        </div>

        <p class="project-intro">What would you like to build?</p>

        <div class="project-choices">
          <div class="project-option" data-project="castle">
            <div class="project-icon">ğŸ°</div>
            <h3>Magic Castle</h3>
          </div>

          <div class="project-option" data-project="garden">
            <div class="project-icon">ğŸŒ»</div>
            <h3>Flower Garden</h3>
          </div>

          <div class="project-option" data-project="robot">
            <div class="project-icon">ğŸ¤–</div>
            <h3>Super Robot</h3>
          </div>

          <div class="project-option" data-project="spaceship">
            <div class="project-icon">ğŸš€</div>
            <h3>Space Rocket</h3>
          </div>
        </div>
      </div>

      <!-- Garden Hub -->
      <div id="garden-hub" class="screen">
        <div class="header">
          <div>
            <h2 id="project-title">Number Garden</h2>
            <button id="home-button" class="text-button" aria-label="Return to start screen">
              â† Home
            </button>
          </div>
          <div class="stats">
            <button
              id="settings-button"
              class="icon-button"
              title="Settings"
              aria-label="Open settings"
            >
              âš™ï¸
            </button>
            <button
              id="castle-button"
              class="icon-button"
              title="View Project"
              aria-label="View project progress"
            >
              <span id="project-icon">ğŸ°</span>
            </button>
            <span class="stat" aria-label="Stars earned">â­ <span id="star-count">0</span></span>
          </div>
        </div>

        <div class="garden-areas">
          <div class="garden-area unlocked" data-area="flower-meadow">
            <div class="area-icon">ğŸ¦„</div>
            <h3>Flower Meadow</h3>
          </div>

          <div class="garden-area locked" data-area="crystal-cave">
            <div class="area-icon">ğŸ”®</div>
            <h3>Crystal Cave</h3>
          </div>

          <div class="garden-area locked" data-area="enchanted-forest">
            <div class="area-icon">ğŸŒ²</div>
            <h3>Enchanted Forest</h3>
          </div>

          <div class="garden-area locked" data-area="time-temple">
            <div class="area-icon">ğŸ•°ï¸</div>
            <h3>Time Temple</h3>
          </div>

          <div class="garden-area locked" data-area="measurement-market">
            <div class="area-icon">ğŸ¦Š</div>
            <h3>Measurement Market</h3>
          </div>

          <div class="garden-area locked" data-area="pattern-path">
            <div class="area-icon">ğŸ¦‹</div>
            <h3>Pattern Path</h3>
          </div>
        </div>
      </div>

      <!-- Activity Screen -->
      <div id="activity-screen" class="screen">
        <div class="header">
          <div>
            <button id="back-button" class="nav-button">â† Back</button>
          </div>
          <div class="stats">
            <button
              id="activity-settings-button"
              class="icon-button"
              title="Settings"
              aria-label="Open settings"
            >
              âš™ï¸
            </button>
            <button
              id="activity-castle-button"
              class="icon-button"
              title="View Project"
              aria-label="View project progress"
            >
              <span id="activity-project-icon">ğŸ°</span>
            </button>
            <span class="stat" id="level-display">Level 1</span>
            <span class="stat">ğŸŒŸ <span id="activity-star-count">0</span></span>
          </div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-container">
          <div class="progress-bar-bg">
            <div id="progress-bar" class="progress-bar"></div>
          </div>
          <div id="progress-text" class="progress-text">0/10</div>
        </div>

        <div class="activity-container">
          <!-- Creature Guide (Simplified) -->
          <div class="creature-guide">
            <div class="creature-image" aria-hidden="true">ğŸ¦„</div>
            <p id="creature-message" class="creature-message" role="status" aria-live="polite"></p>
          </div>

          <!-- Question Area -->
          <div class="question-area">
            <p id="question-text" class="question"></p>
            <div id="visual-area" class="visual-area"></div>
          </div>

          <!-- Answer Options -->
          <div id="answer-options" class="answer-options"></div>

          <!-- Feedback Area -->
          <div id="feedback-area" class="feedback-area hidden"></div>
        </div>

        <!-- Garden Preview (shows progress) -->
        <div class="garden-preview">
          <div id="garden-canvas" class="garden-canvas"></div>
        </div>
      </div>

      <!-- Level Complete Screen -->
      <div id="level-complete-screen" class="screen" role="region" aria-label="Level completion">
        <div class="celebration">
          <h2 id="level-complete-title">ğŸ‰ Level Complete! ğŸ‰</h2>
          <div
            id="level-completion-message"
            class="completion-message"
            role="status"
            aria-live="polite"
          >
            Great work! You've completed this area.
          </div>
          <div id="level-rewards-display" class="rewards" role="region" aria-label="Rewards earned">
            <div class="reward-item">
              <span class="reward-icon">â­</span>
              <span id="level-stars-earned" class="reward-text">5 stars earned!</span>
            </div>
            <div class="reward-item">
              <span class="reward-icon">ğŸŒ¸</span>
              <span id="level-flowers-earned" class="reward-text">5 flowers collected!</span>
            </div>
          </div>
          <div id="level-project-progress-container" class="project-progress-container hidden">
            <div class="project-piece-earned">
              <span class="project-piece-icon" id="level-project-icon">ğŸ°</span>
              <p id="level-project-message">You earned a new castle piece!</p>
            </div>
          </div>
          <div class="completion-buttons">
            <button id="continue-playing-button" class="big-button" aria-label="Continue playing">
              Continue â†’
            </button>
            <button
              id="return-to-hub-button"
              class="secondary-button"
              aria-label="Return to garden hub"
            >
              Garden Hub
            </button>
          </div>
        </div>
      </div>

      <!-- Settings Modal -->
      <div id="settings-modal" class="modal hidden">
        <div class="modal-content">
          <h2>Settings âš™ï¸</h2>

          <div class="setting-group">
            <label for="difficulty-select">Difficulty Level:</label>
            <select id="difficulty-select" class="setting-select">
              <option value="explorer">Explorer (Ages 5-7)</option>
              <option value="adventurer">Adventurer (Ages 7-9)</option>
              <option value="master">Master (Ages 9-11)</option>
            </select>
            <p class="setting-description">Choose the difficulty level for math problems</p>
          </div>

          <div class="setting-group">
            <label for="input-mode-select">Answer Input:</label>
            <select id="input-mode-select" class="setting-select">
              <option value="multipleChoice">Multiple Choice</option>
              <option value="keyboard">Type Answer</option>
            </select>
            <p class="setting-description">Choose how to answer questions</p>
          </div>

          <div class="setting-group">
            <label for="visual-hints-select">Visual Hints:</label>
            <select id="visual-hints-select" class="setting-select">
              <option value="always">Always Show</option>
              <option value="sometimes">Sometimes Show</option>
              <option value="never">Never Show</option>
            </select>
            <p class="setting-description">Control when pictures appear with questions</p>
          </div>

          <div class="setting-group">
            <label for="questions-per-level-select">Questions Per Level</label>
            <select id="questions-per-level-select" class="setting-select">
              <option value="3">3 Questions (Quick)</option>
              <option value="5">5 Questions (Standard)</option>
              <option value="8">8 Questions (Practice)</option>
            </select>
            <p class="setting-description">How many questions to complete each level</p>
          </div>

          <div class="setting-group">
            <label for="sound-effects-select">Sound Effects:</label>
            <select id="sound-effects-select" class="setting-select">
              <option value="on">On</option>
              <option value="off">Off</option>
            </select>
            <p class="setting-description">Turn sound effects on or off</p>
          </div>

          <button id="close-settings" class="big-button">Done</button>
        </div>
      </div>

      <!-- Project Progress Modal -->
      <div id="project-progress-modal" class="modal hidden">
        <div class="modal-content project-modal">
          <h2 id="project-modal-title">Building Progress!</h2>
          <div id="project-visual" class="project-visual">
            <!-- Project visualization will be shown here -->
          </div>
          <p id="project-progress-text" class="project-progress-text"></p>
          <button id="continue-from-project" class="big-button">Continue</button>
        </div>
      </div>

      <!-- Castle Screen -->
      <div id="castle-screen" class="screen">
        <div class="header">
          <button id="castle-back-button" class="nav-button">â† Back</button>
          <h2 id="castle-screen-title">Magic Castle</h2>
        </div>

        <div class="castle-container">
          <p id="castle-description" class="castle-description">
            Complete all areas to build the castle!
          </p>
          <div id="castle-progress-text" class="progress-text">Pieces: 0/6</div>

          <div id="castle-svg-container" class="castle-svg-container">
            <!-- SVG castle will be inserted here -->
          </div>

          <div id="castle-pieces-display" class="castle-pieces">
            <!-- Piece indicators will be added here -->
          </div>
        </div>
      </div>
    </div>

    <!-- Particle effects container -->
    <div id="particles-container"></div>

    <!-- Castle notification -->
    <div id="castle-notification" class="castle-notification"></div>

    <script type="module" src="js/game.js?v=7"></script>
  </body>
</html>
